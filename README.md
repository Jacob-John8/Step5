The code in this is directly copied from https://github.com/Kitware/CMake/Help/guide/tutorial/Step5
